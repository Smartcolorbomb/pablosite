# =============================
# ğŸ”— BACKEND CONFIGURATION
# =============================

backend:
  name: git-gateway                         # We use git-gateway with DecapBridge
  repo: Smartcolorbomb/pablosite           # Format: username/repository
  branch: main                             # Your default git branch
  identity_url: https://auth.decapbridge.com/sites/5ea41419-80d3-439a-838f-d0a67d1f19d7
  gateway_url: https://gateway.decapbridge.com

# =============================
# ğŸ’¬ COMMIT MESSAGES (optional)
# =============================

commit_messages:
  create: Create {{collection}} â€œ{{slug}}â€ â€“ {{author-name}} <{{author-login}}> via DecapBridge
  update: Update {{collection}} â€œ{{slug}}â€ â€“ {{author-name}} <{{author-login}}> via DecapBridge
  delete: Delete {{collection}} â€œ{{slug}}â€ â€“ {{author-name}} <{{author-login}}> via DecapBridge
  uploadMedia: Upload â€œ{{path}}â€ â€“ {{author-name}} <{{author-login}}> via DecapBridge
  deleteMedia: Delete â€œ{{path}}â€ â€“ {{author-name}} <{{author-login}}> via DecapBridge
  openAuthoring: Message {{message}} â€“ {{author-name}} <{{author-login}}> via DecapBridge

# =============================
# ğŸŒ SITE METADATA (optional)
# =============================

logo_url: https://decapbridge.com/decapcms-with-bridge.svg
site_url: https://pablo.spa

# =============================
# ğŸ–¼ï¸ MEDIA CONFIGURATION
# =============================

media_folder: "static/uploads"
public_folder: "/uploads"

# =============================
# ğŸ“š COLLECTIONS (content types)
# =============================

collections:
  # âœ… ORIGINAL default post collection (in case you want to keep general posts)
  - name: "posts"
    label: "Blog Posts (General)"
    folder: "content/posts"
    create: true
    slug: "{{slug}}"
    format: "yaml-frontmatter"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Draft", name: "draft", widget: "boolean", default: true }
      - { label: "Body", name: "body", widget: "markdown" }

  # ğŸ“˜ SPANISH posts
  - name: "posts_es"
    label: "Publicaciones (ES)"
    folder: "content/es"
    create: true
    slug: "{{slug}}"
    format: "yaml-frontmatter"
    fields:
      - label: "TÃ­tulo"
        name: "title"
        widget: "string"
      - label: "Fecha"
        name: "date"
        widget: "datetime"
      - label: "Idioma"
        name: "lang"
        widget: "hidden"
        default: "es"
      - label: "Clave de traducciÃ³n"
        name: "translationKey"
        widget: "string"
        required: false
        hint: "Usa la misma clave que la versiÃ³n en inglÃ©s para vincular los posts"
      - label: "Contenido"
        name: "body"
        widget: "markdown"

  # ğŸ“™ ENGLISH posts
  - name: "posts_en"
    label: "Posts (EN)"
    folder: "content/en"
    create: true
    slug: "{{slug}}"
    format: "yaml-frontmatter"
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Date"
        name: "date"
        widget: "datetime"
      - label: "Language"
        name: "lang"
        widget: "hidden"
        default: "en"
      - label: "Translation Key"
        name: "translationKey"
        widget: "string"
        required: false
        hint: "Use the same key as the Spanish version to link them"
      - label: "Body"
        name: "body"
        widget: "markdown"
